class TexturalTriangleCanvas{constructor(t){this.canvas=document.getElementById(t),this.siltColor="red",this.sandColor="orange",this.clayColor="blue",this.textColor="black",this.backgroundColor="white",this.triangleColor="black",this.dottedLineColor="gray",this.setLanguage("en")}draw(){return this.drawWithValues(1,0,0)}drawWithValues(t,e,l){if(this.siltPercent=10*t,this.sandPercent=10*e,this.clayPercent=10*l,10*this.siltPercent+10*this.sandPercent+10*this.clayPercent!=100)throw new Error("Percentages must add up to 100");const i=this.canvas.getContext("2d"),a=this.canvas.width,s=this.canvas.height,o=(a+s)/2*.08;i.fillStyle=this.backgroundColor,i.beginPath(),i.moveTo(0,0),i.lineTo(a,0),i.lineTo(a,s),i.lineTo(0,s),i.closePath(),i.fill(),i.lineWidth=1,i.setLineDash([0,0]);for(let t=.1*s;t<=s-.1*s;t+=o)i.strokeStyle=this.clayColor,i.beginPath(),i.moveTo(.1*a,t),i.lineTo(a-.1*a,t),i.stroke();var n=0;for(let t=.1*a;t<a-.1*a;t+=o)i.strokeStyle=this.sandColor,i.beginPath(),i.moveTo(a-t,s-.1*s),i.lineTo(a/2-n,.1*s),i.stroke(),n+=o;var r=0;for(let t=.1*a;t<a-.1*a;t+=o)i.strokeStyle=this.siltColor,i.beginPath(),i.moveTo(.1+t,s-.1*s),i.lineTo(a/2+r,.1*s),i.stroke(),r+=o;i.lineWidth=.003*a,i.strokeStyle=this.triangleColor,i.beginPath(),i.moveTo(.34*a,.42*s),i.lineTo(a-.34*a,.42*s),i.lineTo(.58*a,.58*s),i.lineTo(.74*a,.58*s),i.lineTo(.79*a,.68*s),i.lineTo(.63*a,.68*s),i.lineTo(.58*a,.58*s),i.lineTo(.38*a,.58*s),i.lineTo(.32*a,.46*s),i.lineTo(.24*a,.62*s),i.lineTo(.4*a,.62*s),i.lineTo(.38*a,.58*s),i.lineTo(.43*a,.68*s),i.lineTo(.79*a,.68*s),i.lineTo(.61*a,.68*s),i.lineTo(.5*a,.9*s),i.lineTo(.34*a,.9*s),i.lineTo(.16*a,.78*s),i.lineTo(.14*a,.82*s),i.lineTo(.23*a,.9*s),i.lineTo(.5*a,.9*s),i.lineTo(.52*a,.86*s),i.lineTo(.46*a,.86*s),i.lineTo(.4*a,.74*s),i.lineTo(.43*a,.68*s),i.lineTo(.4*a,.74*s),i.lineTo(.18*a,.74*s),i.moveTo(.74*a,.9*s),i.lineTo(.78*a,.82*s),i.lineTo(.86*a,.82*s),i.stroke(),i.lineWidth=.003*a,i.strokeStyle=this.dottedLineColor,i.setLineDash([5,3]),i.beginPath(),i.moveTo(a-(.1*a+o*this.sandPercent),s-.1*s),i.lineTo(a/2-(this.sandPercent-this.siltPercent)*o/2,s-(.1*s+o*this.clayPercent)),i.moveTo(a/2+o*this.siltPercent,.1*s),i.lineTo(a/2-(this.sandPercent-this.siltPercent)*o/2,s-(.1*s+o*this.clayPercent)),i.moveTo(.1*a,s-(.1*s+o*this.clayPercent)),i.lineTo(a/2-(this.sandPercent-this.siltPercent)*o/2,s-(.1*s+o*this.clayPercent)),i.stroke(),i.fillStyle=this.dottedLineColor,i.beginPath();var T=a/2-(this.sandPercent-this.siltPercent)*o/2,h=s-(.1*s+o*this.clayPercent);i.arc(T,h,.005*a,0,2*Math.PI),i.fill(),i.font=`bold ${.023*a}px Arial`,i.fillStyle=this.textColor,i.textAlign="center",i.fillText(this.veryClayeyText.split(" ")[0],a/2,.31*s),i.fillText(this.veryClayeyText.split(" ")[1],a/2,.335*s),i.fillText(this.clayText,a/2,.51*s),i.fillText(this.sandyClayText.split(" ")[0],.32*a,.57*s),i.fillText(this.sandyClayText.split(" ")[1],.32*a,.595*s),i.fillText(this.siltyClayText.split(" ")[0],.66*a,.53*s),i.fillText(this.siltyClayText.split(" ")[1],.66*a,.555*s),i.fillText(this.clayLoamText,.51*a,.64*s),i.fillText(this.siltyClayLoamText.split(" ")[0],.68*a,.62*s),i.fillText(this.siltyClayLoamText.split(" ")[1],.68*a,.645*s),i.fillText(this.siltyClayLoamText.split(" ")[2],.68*a,.67*s),i.fillText(this.sandyClayLoamText.split(" ")[0],.31*a,.67*s),i.fillText(this.sandyClayLoamText.split(" ")[1],.31*a,.695*s),i.fillText(this.sandyClayLoamText.split(" ")[2],.31*a,.72*s),i.fillText(this.sandText,.155*a,.88*s),i.save(),i.translate(.21*a,.85*s),i.rotate(Math.PI/5),i.fillText(this.loamySandText,0,0),i.restore(),i.fillText(this.sandyLoamText,.32*a,.815*s),i.fillText(this.loamText,.5*a,.78*s),i.fillText(this.siltLoamText,.68*a,.8*s),i.fillText(this.siltText,.815*a,.87*s),i.lineWidth=.01*a,i.strokeStyle=this.triangleColor,i.fillStyle=this.backgroundColor,i.setLineDash([0,0]),i.beginPath(),i.moveTo(0,0),i.lineTo(a/2,0),i.lineTo(a/2,.1*s),i.lineTo(.1*a,s-.1*s),i.lineTo(a-.1*a,s-.1*s),i.lineTo(a/2,.1*s),i.lineTo(a/2,0),i.lineTo(a,0),i.lineTo(a,s),i.lineTo(0,s),i.closePath(),i.stroke(),i.fill(),i.font=`bold ${.025*a}px Arial`;var y=0;for(let t=0;t<=100;t+=10)i.fillStyle=this.clayColor,i.textAlign="right",i.fillText(t,.1*a-10+y/2,s-.1*s-y),y+=o;var x=0;for(let t=0;t<=100;t+=10)i.fillStyle=this.siltColor,i.textAlign="left",i.fillText(t,a/2+10+x/2,.1*s+x),x+=o;var c=0;for(let t=0;t<=100;t+=10)i.font=`bold ${.025*a}px Arial`,i.fillStyle=this.sandColor,i.textAlign="center",i.fillText(t,a-(.1*a+c),s-s*(.1/1.5)),c+=o;i.font=`bold ${a/25}px Arial`,i.textAlign="center",i.fillStyle=this.clayColor,i.save(),i.translate(.22*a,s/2),i.rotate(-Math.PI/3),i.fillText(this.percentClayText.toUpperCase(),0,0),i.restore(),i.fillStyle=this.siltColor,i.save(),i.translate(.78*a,s/2),i.rotate(Math.PI/3),i.fillText(this.percentSiltText.toUpperCase(),0,0),i.restore(),i.fillStyle=this.sandColor,i.save(),i.fillText(this.percentSandText.toUpperCase(),a/2.1,.98*s),i.restore()}setLanguage(t){switch(t.toLowerCase()){case"en":this.veryClayeyText="Very Clayey",this.clayText="Clay",this.sandyClayText="Sandy Clay",this.siltyClayText="Silty Clay",this.sandyClayLoamText="Sandy Clay Loam",this.clayLoamText="Clay Loam",this.siltyClayLoamText="Silty Clay Loam",this.sandText="Sand",this.loamySandText="Loamy Sand",this.sandyLoamText="Sandy Loam",this.loamText="Loam",this.siltLoamText="Silt Loam",this.siltText="Silt",this.percentClayText="% Clay",this.percentSiltText="% Silt",this.percentSandText="% Sand";break;case"sp":this.veryClayeyText="Muy Argiloso",this.clayText="Argila",this.sandyClayText="Argila Arena",this.siltyClayText="Argila Arena Silicada",this.sandyClayLoamText="Argila Arena Lomosa",this.clayLoamText="Argila Lomosa",this.siltyClayLoamText="Argila Silicada Lomosa",this.sandText="Arena",this.loamySandText="Arena Lomosa",this.sandyLoamText="Arena Lomosa",this.loamText="Lomosa",this.siltLoamText="Silicada Lomosa",this.siltText="Silicada",this.percentClayText="% Argila",this.percentSiltText="% Silicada",this.percentSandText="% Arena";break;case"pt-br":this.veryClayeyText="Muito Argiloso",this.clayText="Argila",this.sandyClayText="Argilo Arenoso",this.siltyClayText="Argilo Siltoso",this.sandyClayLoamText="Franco Argilo Arenoso",this.clayLoamText="Franco Argiloso",this.siltyClayLoamText="Franco Argilo Siltoso",this.sandText="Areia",this.loamySandText="Areia Franca",this.sandyLoamText="Franco Arenoso",this.loamText="Franco",this.siltLoamText="Franco Siltoso",this.siltText="Silte",this.percentClayText="% Argila",this.percentSiltText="% Silte",this.percentSandText="% Areia";break;default:this.language="en"}}}